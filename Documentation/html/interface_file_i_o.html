<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Group Modeling App: FileIO Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Group Modeling App
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Instance Methods</a> &#124;
<a href="#pub-static-methods">Class Methods</a>  </div>
  <div class="headertitle">
<div class="title">FileIO Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A class that handles the parsing of mdl files to import into the application. Also is responsible for exporting the model back into a Vensim file for saving state and for use in Vensim again.  
 <a href="interface_file_i_o.html#details">More...</a></p>

<p><code>#import &lt;<a class="el" href="_file_i_o_8h_source.html">FileIO.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for FileIO:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_file_i_o.png" usemap="#FileIO_map" alt=""/>
  <map id="FileIO_map" name="FileIO_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr class="memitem:a2bb3d58ae1f0fac924e831a424e1365b"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_file_i_o.html#a2bb3d58ae1f0fac924e831a424e1365b">importModel:</a></td></tr>
<tr class="separator:a2bb3d58ae1f0fac924e831a424e1365b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a521b8da51a857f38be6622a220cf70c5"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_file_i_o.html#a521b8da51a857f38be6622a220cf70c5">openFile</a></td></tr>
<tr class="separator:a521b8da51a857f38be6622a220cf70c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae00d68df671c5290f0e6774adf469f49"><td class="memItemLeft" align="right" valign="top">(NSURL *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_file_i_o.html#ae00d68df671c5290f0e6774adf469f49">exportModel</a></td></tr>
<tr class="separator:ae00d68df671c5290f0e6774adf469f49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab012ca0b3749e8e0fb26a09a92d28d02"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab012ca0b3749e8e0fb26a09a92d28d02"></a>
(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_file_i_o.html#ab012ca0b3749e8e0fb26a09a92d28d02">exportEventLogging</a></td></tr>
<tr class="memdesc:ab012ca0b3749e8e0fb26a09a92d28d02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will export the model event logging data and write it to a file eventLogging.txt. <br/></td></tr>
<tr class="separator:ab012ca0b3749e8e0fb26a09a92d28d02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a628a9ac631ce93a2e49ac8155b62eaf1"><td class="memItemLeft" align="right" valign="top">(NSNumber *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_file_i_o.html#a628a9ac631ce93a2e49ac8155b62eaf1">getFileID</a></td></tr>
<tr class="separator:a628a9ac631ce93a2e49ac8155b62eaf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a305324f84521a6c2966a744c620c6009"><td class="memItemLeft" align="right" valign="top">(NSNumber *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_file_i_o.html#a305324f84521a6c2966a744c620c6009">getNextAvailableFileID</a></td></tr>
<tr class="separator:a305324f84521a6c2966a744c620c6009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00a3fe9bd4e7c407327987606c18028a"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_file_i_o.html#a00a3fe9bd4e7c407327987606c18028a">processComponent:loopName:</a></td></tr>
<tr class="separator:a00a3fe9bd4e7c407327987606c18028a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0282f6418e27f223af8dc89cc5142d31"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0282f6418e27f223af8dc89cc5142d31"></a>
(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_file_i_o.html#a0282f6418e27f223af8dc89cc5142d31">updateCausalLinkConnections</a></td></tr>
<tr class="memdesc:a0282f6418e27f223af8dc89cc5142d31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Once the file has been read in completely we can finish processing the data. The causal link parent and child objects upon import point to a string id of the parent and child, instead we would like the parent and child to point to the instance of those Variables. Likewise, each variable would like to keep track of which CausalLinks are indegree and outdegree. <br/></td></tr>
<tr class="separator:a0282f6418e27f223af8dc89cc5142d31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Class Methods</h2></td></tr>
<tr class="memitem:a010550b3de2e660a2a14d4dce2990078"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_file_i_o.html">FileIO</a> *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_file_i_o.html#a010550b3de2e660a2a14d4dce2990078">sharedFileIO</a></td></tr>
<tr class="separator:a010550b3de2e660a2a14d4dce2990078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac570de2e8f37bc126a9f9536f34bc09d"><td class="memItemLeft" align="right" valign="top">(NSData *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_file_i_o.html#ac570de2e8f37bc126a9f9536f34bc09d">sha1:</a></td></tr>
<tr class="separator:ac570de2e8f37bc126a9f9536f34bc09d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e844772cd8f89ba85d4bd369a093fd8"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_file_i_o.html#a3e844772cd8f89ba85d4bd369a093fd8">base64forData:</a></td></tr>
<tr class="separator:a3e844772cd8f89ba85d4bd369a093fd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class that handles the parsing of mdl files to import into the application. Also is responsible for exporting the model back into a Vensim file for saving state and for use in Vensim again. </p>
</div><h2 class="groupheader">Method Documentation</h2>
<a class="anchor" id="a3e844772cd8f89ba85d4bd369a093fd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (NSString *) base64forData: </td>
          <td></td>
          <td class="paramtype">(NSData*)&#160;</td>
          <td class="paramname"><em>theData</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts the hashed dat to a base64 string for comparison with what is stored in the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">theData</td><td>the hash value to be converted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the converted nsdata to base64 string </dd></dl>

</div>
</div>
<a class="anchor" id="ae00d68df671c5290f0e6774adf469f49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSURL *) exportModel </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Will export the model and write it to a file output.mdl. </p>
<dl class="section return"><dt>Returns</dt><dd>the url location of the file. </dd></dl>
<p>Add the current max ID, used for tracking events. Stored as -##. </p>

</div>
</div>
<a class="anchor" id="a628a9ac631ce93a2e49ac8155b62eaf1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSNumber *) getFileID </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the parent file global idenitifer (gid) so we can keep track of when a specific user modifies the same file or any derivative of the original file. The gid will be unique per user + parent file combination. </p>
<dl class="section return"><dt>Returns</dt><dd>a gid value for this eventlog record. </dd></dl>

</div>
</div>
<a class="anchor" id="a305324f84521a6c2966a744c620c6009"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSNumber *) getNextAvailableFileID </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If a new file has been created, or a user has not edited an existing file before, we will need to create a new gid for this user/file combination. </p>
<dl class="section return"><dt>Returns</dt><dd>the next available file gid in the database. </dd></dl>

</div>
</div>
<a class="anchor" id="a2bb3d58ae1f0fac924e831a424e1365b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) importModel: </td>
          <td></td>
          <td class="paramtype">(NSArray*)&#160;</td>
          <td class="paramname"><em>lines</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens a Vensim mdl file and parses through it to populate the model. Will update the <a class="el" href="interface_model.html" title="This class is responsible for holding all aspects of a causal loop diagram model. This includes all c...">Model</a> object with its simulation control parameters, default model parameters, and all components including any <a class="el" href="interface_variable.html" title="A subclass of Component containing the data related to a variable of a causal loop diagram...">Variable</a>, <a class="el" href="interface_causal_link.html" title="A subclass of Component containing the data related to a causal link between two variables of a causa...">CausalLink</a>, and <a class="el" href="interface_loop.html" title="A subclass of Component containing the data related to a feedback loop of a causal loop diagram...">Loop</a>. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>The name of the loop being on the next line kind of a pain </dd></dl>

</div>
</div>
<a class="anchor" id="a521b8da51a857f38be6622a220cf70c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString *) openFile </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Will open the selected Vensim file to import and use. </p>
<dl class="section note"><dt>Note</dt><dd>this is only used when wanting to test in the simulator. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>a string contraining the entire file </dd></dl>

</div>
</div>
<a class="anchor" id="a00a3fe9bd4e7c407327987606c18028a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) processComponent: </td>
          <td></td>
          <td class="paramtype">(NSString*)&#160;</td>
          <td class="paramname"><em>string</em></td>
        </tr>
        <tr>
          <td class="paramkey">loopName:</td>
          <td></td>
          <td class="paramtype">(NSString*)&#160;</td>
          <td class="paramname"><em>loopName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Will create a new component of type <a class="el" href="interface_causal_link.html" title="A subclass of Component containing the data related to a causal link between two variables of a causa...">CausalLink</a>, <a class="el" href="interface_variable.html" title="A subclass of Component containing the data related to a variable of a causal loop diagram...">Variable</a>, or <a class="el" href="interface_loop.html" title="A subclass of Component containing the data related to a feedback loop of a causal loop diagram...">Loop</a> and add it to the model. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>the input string from the Vensim mdl file that provides specification for the component. </td></tr>
    <tr><td class="paramname">loopName</td><td>the provided name for a loop. This will be ignored for causal links and variables. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac570de2e8f37bc126a9f9536f34bc09d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (NSData *) sha1: </td>
          <td></td>
          <td class="paramtype">(NSData *)&#160;</td>
          <td class="paramname"><em>data</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Will compute a sha1 hash function on some data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>the data to be hashed. </td></tr>
    <tr><td class="paramname">a</td><td>sha1 hash of data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a010550b3de2e660a2a14d4dce2990078"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (<a class="el" href="interface_file_i_o.html">FileIO</a> *) sharedFileIO </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Forces the <a class="el" href="interface_model.html" title="This class is responsible for holding all aspects of a causal loop diagram model. This includes all c...">Model</a> to be a singleton class. </p>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the single instance of the model. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>GroupModelingApp/<a class="el" href="_file_i_o_8h_source.html">FileIO.h</a></li>
<li>GroupModelingApp/FileIO.m</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Sep 17 2013 20:07:27 for Group Modeling App by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
